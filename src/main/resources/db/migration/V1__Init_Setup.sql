CREATE TABLE camp
(
    id         INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name       VARCHAR(32),
    seats      INTEGER,
    start_date TIMESTAMP WITHOUT TIME ZONE,
    end_date   TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_camp PRIMARY KEY (id)
);

CREATE TABLE church
(
    id   INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(32),
    CONSTRAINT pk_church PRIMARY KEY (id)
);

CREATE TABLE notification
(
    id          INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    telegram_id VARCHAR(32),
    title       VARCHAR(64),
    content     VARCHAR(64),
    CONSTRAINT pk_notification PRIMARY KEY (id)
);

CREATE TABLE price
(
    id         INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    value      INTEGER,
    start_date TIMESTAMP WITHOUT TIME ZONE,
    end_date   TIMESTAMP WITHOUT TIME ZONE,
    camp_id    INTEGER,
    CONSTRAINT pk_price PRIMARY KEY (id)
);

ALTER TABLE price
    ADD CONSTRAINT FK_PRICE_ON_CAMP FOREIGN KEY (camp_id) REFERENCES camp (id);